{
  "version": 3,
  "sources": ["../src/tlate.ts"],
  "sourcesContent": ["/**\n * Tlate - Template Literals As Template Engine\n *\n * @package tlate\n * @author Takuto Yanagida\n * @version 2024-02-06\n */\n\nexport default function t(ss: string[], ...vs: any[]): string {\n\tlet ret = '';\n\n\tlet rm;\n\tfor (let i = 0; i < vs.length; ++i) {\n\t\tlet s = ss[i], v = vs[i], sn = ss[i + 1];\n\n\t\ts = s.replace(/\\n[ \\t]*\\n/g, '\\n\\n');     // '\\n   \\n' -> '\\n\\n'\n\t\tif (rm) s = s.replace(/^[ \\t]*\\n/g, '');  // ^     \\n' -> ^'\n\n\t\tlet _ = s.match(/(?<=\\n)([ \\t]+)$/g)?.[0] ?? '';  // '\\n(   )$\n\t\tif (0 === i && '' === _) _ = s.match(/^([ \\t]+)$/g)?.[0] ?? '';  // ^(   )$\n\n\t\tif (typeof v === 'function') {\n\t\t\tv = v();\n\t\t\tif (Array.isArray(v)) {\n\t\t\t\tif ((v?.[0].includes('\\n') ?? false) && _.length) {\n\t\t\t\t\ts = s.slice(0, - _.length);  // '\\n___$ -> '\\n$\n\t\t\t\t\t_ = '';\n\t\t\t\t}\n\t\t\t\tv = v.join(`\\n${_}`);\n\t\t\t} else {\n\t\t\t\tif (v.includes('\\n') && _.length) {\n\t\t\t\t\ts = s.slice(0, - _.length);  // '\\n___$ -> '\\n$\n\t\t\t\t\t_ = '';\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tv = e(v);\n\t\t\tif (v.includes('\\n') && _.length) {\n\t\t\t\ts = s.slice(0, - _.length);  // '\\n___$ -> '\\n$\n\t\t\t\t_ = '';\n\t\t\t}\n\t\t}\n\n\t\trm = ('' !== _ && '' === v && /^[ \\t]*\\n/.test(sn));  // ^(   )\\n'\n\t\tif (rm) s = s.slice(0, - _.length);  // '\\n___$ -> '\\n$\n\n\t\tret += s;\n\t\tret += v;\n\t}\n\tlet s = ss[ss.length - 1];\n\n\ts = s.replace(/\\n[ \\t]*\\n/g, '\\n\\n');     // '\\n   \\n' -> '\\n\\n'\n\tif (rm) s = s.replace(/^[ \\t]*\\n/g, '');  // ^     \\n' -> ^'\n\n\ts = s.replace(/(?<=\\n)([ \\t]+)$/g, '');  // '\\n   $ -> '\\n$\n\n\tret += s;\n\treturn ret;\n}\n\nconst e = (s: string) => ('' + s)\n\t.replace(/[<>\"']/g, c => m[c] as string)\n\t.replace(/&(?!([a-z\\d]{2,32}|#\\d{1,7}|#x[\\da-f]{1,6});)/ig, '&amp;');\n\nconst m = {\n\t'<': '&lt;',\n\t'>': '&gt;',\n\t'\"': '&quot;',\n\t\"'\": '&#39;',\n} as {[k in string]: string};\n"],
  "mappings": "aAQA,wBAAwBA,EAAEC,KAAiBC,EAAmB,CAC7D,IAAIC,EAAM,GAENC,EACJ,QAASC,EAAI,EAAGA,EAAIH,EAAG,OAAQ,EAAEG,EAAG,CACnC,IAAIC,EAAIL,EAAGI,CAAC,EAAGE,EAAIL,EAAGG,CAAC,EAAGG,EAAKP,EAAGI,EAAI,CAAC,EAEvCC,EAAIA,EAAE,QAAQ,cAAe;AAAA;AAAA,CAAM,EAC/BF,IAAIE,EAAIA,EAAE,QAAQ,aAAc,EAAE,GAEtC,IAAIG,EAAIH,EAAE,MAAM,mBAAmB,IAAI,CAAC,GAAK,GACnCD,IAAN,GAAkBI,IAAP,KAAUA,EAAIH,EAAE,MAAM,aAAa,IAAI,CAAC,GAAK,IAExD,OAAOC,GAAM,YAChBA,EAAIA,EAAE,EACF,MAAM,QAAQA,CAAC,IACbA,IAAI,CAAC,EAAE,SAAS;AAAA,CAAI,GAAK,KAAUE,EAAE,SACzCH,EAAIA,EAAE,MAAM,EAAG,CAAEG,EAAE,MAAM,EACzBA,EAAI,IAELF,EAAIA,EAAE,KAAK;AAAA,EAAKE,CAAC,EAAE,GAEfF,EAAE,SAAS;AAAA,CAAI,GAAKE,EAAE,SACzBH,EAAIA,EAAE,MAAM,EAAG,CAAEG,EAAE,MAAM,EACzBA,EAAI,MAINF,EAAIG,EAAEH,CAAC,EACHA,EAAE,SAAS;AAAA,CAAI,GAAKE,EAAE,SACzBH,EAAIA,EAAE,MAAM,EAAG,CAAEG,EAAE,MAAM,EACzBA,EAAI,KAINL,EAAaK,IAAP,IAAmBF,IAAP,IAAY,YAAY,KAAKC,CAAE,EAC7CJ,IAAIE,EAAIA,EAAE,MAAM,EAAG,CAAEG,EAAE,MAAM,GAEjCN,GAAOG,EACPH,GAAOI,CACR,CACA,IAAID,EAAIL,EAAGA,EAAG,OAAS,CAAC,EAExB,OAAAK,EAAIA,EAAE,QAAQ,cAAe;AAAA;AAAA,CAAM,EAC/BF,IAAIE,EAAIA,EAAE,QAAQ,aAAc,EAAE,GAEtCA,EAAIA,EAAE,QAAQ,oBAAqB,EAAE,EAErCH,GAAOG,EACAH,CACR,CAEA,MAAMO,EAAKJ,IAAe,GAAKA,GAC7B,QAAQ,UAAWK,GAAKC,EAAED,CAAC,CAAW,EACtC,QAAQ,kDAAmD,OAAO,EAE9DC,EAAI,CACT,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,OACN",
  "names": ["t", "ss", "vs", "ret", "rm", "i", "s", "v", "sn", "_", "e", "c", "m"]
}
